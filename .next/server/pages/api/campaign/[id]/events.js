"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/campaign/[id]/events";
exports.ids = ["pages/api/campaign/[id]/events"];
exports.modules = {

/***/ "ioredis":
/*!**************************!*\
  !*** external "ioredis" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("ioredis");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcampaign%2F%5Bid%5D%2Fevents&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccampaign%5C%5Bid%5D%5Cevents.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcampaign%2F%5Bid%5D%2Fevents&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccampaign%5C%5Bid%5D%5Cevents.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_campaign_id_events_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\campaign\\[id]\\events.ts */ \"(api)/./pages/api/campaign/[id]/events.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_campaign_id_events_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_campaign_id_events_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/campaign/[id]/events\",\n        pathname: \"/api/campaign/[id]/events\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_campaign_id_events_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhbXBhaWduJTJGJTVCaWQlNUQlMkZldmVudHMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2NhbXBhaWduJTVDJTVCaWQlNUQlNUNldmVudHMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDb0U7QUFDcEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDZEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw2REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYXJrZXRpbmctbXZwLz9jNTk5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcY2FtcGFpZ25cXFxcW2lkXVxcXFxldmVudHMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jYW1wYWlnbi9baWRdL2V2ZW50c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NhbXBhaWduL1tpZF0vZXZlbnRzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcampaign%2F%5Bid%5D%2Fevents&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccampaign%5C%5Bid%5D%5Cevents.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/redis.ts":
/*!**********************!*\
  !*** ./lib/redis.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redis: () => (/* binding */ redis)\n/* harmony export */ });\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ioredis */ \"ioredis\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_0__);\n// lib/redis.ts\n\nconst redis = new (ioredis__WEBPACK_IMPORTED_MODULE_0___default())(process.env.REDIS_URL || \"redis://127.0.0.1:6379\", {\n    maxRetriesPerRequest: null,\n    lazyConnect: true,\n    reconnectOnError: (err)=>{\n        // reconnect on most errors\n        const targetErrors = [\n            \"READONLY\",\n            \"ECONNRESET\",\n            \"ETIMEDOUT\"\n        ];\n        if (targetErrors.some((e)=>err.message.includes(e))) return true;\n        return false;\n    }\n});\n// Optional: log Redis connection events for observability\nredis.on(\"connect\", ()=>console.log(\"Redis connected\"));\nredis.on(\"ready\", ()=>console.log(\"Redis ready\"));\nredis.on(\"error\", (err)=>console.error(\"Redis error\", err));\nredis.on(\"close\", ()=>console.warn(\"Redis connection closed\"));\nredis.on(\"reconnecting\", ()=>console.log(\"Redis reconnecting\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcmVkaXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsZUFBZTtBQUVlO0FBRXZCLE1BQU1DLFFBQVEsSUFBSUQsZ0RBQU9BLENBQUNFLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxJQUFJLDBCQUEwQjtJQUNsRkMsc0JBQXNCO0lBQ3RCQyxhQUFhO0lBQ2JDLGtCQUFrQixDQUFDQztRQUNqQiwyQkFBMkI7UUFDM0IsTUFBTUMsZUFBZTtZQUFDO1lBQVk7WUFBYztTQUFZO1FBQzVELElBQUlBLGFBQWFDLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0gsSUFBSUksT0FBTyxDQUFDQyxRQUFRLENBQUNGLEtBQUssT0FBTztRQUM1RCxPQUFPO0lBQ1Q7QUFDRixHQUFHO0FBRUgsMERBQTBEO0FBQzFEVixNQUFNYSxFQUFFLENBQUMsV0FBVyxJQUFNQyxRQUFRQyxHQUFHLENBQUM7QUFDdENmLE1BQU1hLEVBQUUsQ0FBQyxTQUFTLElBQU1DLFFBQVFDLEdBQUcsQ0FBQztBQUNwQ2YsTUFBTWEsRUFBRSxDQUFDLFNBQVMsQ0FBQ04sTUFBUU8sUUFBUUUsS0FBSyxDQUFDLGVBQWVUO0FBQ3hEUCxNQUFNYSxFQUFFLENBQUMsU0FBUyxJQUFNQyxRQUFRRyxJQUFJLENBQUM7QUFDckNqQixNQUFNYSxFQUFFLENBQUMsZ0JBQWdCLElBQU1DLFFBQVFDLEdBQUcsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21hcmtldGluZy1tdnAvLi9saWIvcmVkaXMudHM/NTFlOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvcmVkaXMudHNcclxuXHJcbmltcG9ydCBJT1JlZGlzIGZyb20gJ2lvcmVkaXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZGlzID0gbmV3IElPUmVkaXMocHJvY2Vzcy5lbnYuUkVESVNfVVJMIHx8ICdyZWRpczovLzEyNy4wLjAuMTo2Mzc5Jywge1xyXG4gIG1heFJldHJpZXNQZXJSZXF1ZXN0OiBudWxsLFxyXG4gIGxhenlDb25uZWN0OiB0cnVlLCAgICAgICAgICAgLy8gcHJldmVudHMgaW1tZWRpYXRlIGNvbm5lY3Rpb24gb24gaW1wb3J0XHJcbiAgcmVjb25uZWN0T25FcnJvcjogKGVycikgPT4ge1xyXG4gICAgLy8gcmVjb25uZWN0IG9uIG1vc3QgZXJyb3JzXHJcbiAgICBjb25zdCB0YXJnZXRFcnJvcnMgPSBbJ1JFQURPTkxZJywgJ0VDT05OUkVTRVQnLCAnRVRJTUVET1VUJ107XHJcbiAgICBpZiAodGFyZ2V0RXJyb3JzLnNvbWUoZSA9PiBlcnIubWVzc2FnZS5pbmNsdWRlcyhlKSkpIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy8gT3B0aW9uYWw6IGxvZyBSZWRpcyBjb25uZWN0aW9uIGV2ZW50cyBmb3Igb2JzZXJ2YWJpbGl0eVxyXG5yZWRpcy5vbignY29ubmVjdCcsICgpID0+IGNvbnNvbGUubG9nKCdSZWRpcyBjb25uZWN0ZWQnKSk7XHJcbnJlZGlzLm9uKCdyZWFkeScsICgpID0+IGNvbnNvbGUubG9nKCdSZWRpcyByZWFkeScpKTtcclxucmVkaXMub24oJ2Vycm9yJywgKGVycikgPT4gY29uc29sZS5lcnJvcignUmVkaXMgZXJyb3InLCBlcnIpKTtcclxucmVkaXMub24oJ2Nsb3NlJywgKCkgPT4gY29uc29sZS53YXJuKCdSZWRpcyBjb25uZWN0aW9uIGNsb3NlZCcpKTtcclxucmVkaXMub24oJ3JlY29ubmVjdGluZycsICgpID0+IGNvbnNvbGUubG9nKCdSZWRpcyByZWNvbm5lY3RpbmcnKSk7Il0sIm5hbWVzIjpbIklPUmVkaXMiLCJyZWRpcyIsInByb2Nlc3MiLCJlbnYiLCJSRURJU19VUkwiLCJtYXhSZXRyaWVzUGVyUmVxdWVzdCIsImxhenlDb25uZWN0IiwicmVjb25uZWN0T25FcnJvciIsImVyciIsInRhcmdldEVycm9ycyIsInNvbWUiLCJlIiwibWVzc2FnZSIsImluY2x1ZGVzIiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/redis.ts\n");

/***/ }),

/***/ "(api)/./pages/api/campaign/[id]/events.ts":
/*!*******************************************!*\
  !*** ./pages/api/campaign/[id]/events.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/redis */ \"(api)/./lib/redis.ts\");\n// pages/api/campaign/[id]/events.ts\n\nasync function handler(req, res) {\n    const { id } = req.query;\n    if (!id || typeof id !== \"string\") {\n        res.status(400).end(\"Invalid campaign id\");\n        return;\n    }\n    // Set SSE headers\n    res.setHeader(\"Content-Type\", \"text/event-stream\");\n    res.setHeader(\"Cache-Control\", \"no-cache, no-transform\");\n    res.setHeader(\"Connection\", \"keep-alive\");\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    // Keep connection open\n    res.flushHeaders();\n    // Duplicate a Redis connection for pub/sub\n    const sub = _lib_redis__WEBPACK_IMPORTED_MODULE_0__.redis.duplicate();\n    await sub.connect();\n    const channels = [\n        `campaign:${id}:contact_update`,\n        \"campaign:new\"\n    ];\n    // Message handler: forward as SSE events\n    const messageHandler = (channel, message)=>{\n        try {\n            // Send event named after channel (normalized)\n            const eventName = channel === \"campaign:new\" ? \"campaign\" : \"contact\";\n            // SSE format: event: <name>\\ndata: <json>\\n\\n\n            res.write(`event: ${eventName}\\n`);\n            // escape newlines in payload by replacing with \\\\n inside JSON string\n            res.write(`data: ${message}\\n\\n`);\n        } catch (e) {\n            console.warn(\"SSE send failed\", e);\n        }\n    };\n    // Subscribe to channels\n    try {\n        await sub.subscribe(channels, (msg, ch)=>{\n            // ioredis v5 subscribe signature differs; use message handler above if provided\n            // But to be compatible, call messageHandler\n            messageHandler(ch, msg);\n        });\n    } catch (e) {\n        console.error(\"Failed to subscribe to redis channels\", e);\n        res.write(`event: error\\n`);\n        res.write(`data: ${JSON.stringify({\n            error: \"subscribe-failed\"\n        })}\\n\\n`);\n    }\n    // Cleanup on client disconnect\n    req.on(\"close\", async ()=>{\n        try {\n            await sub.unsubscribe(channels);\n        } catch  {}\n        try {\n            await sub.quit();\n        } catch  {}\n        res.end();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2FtcGFpZ24vW2lkXS9ldmVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxvQ0FBb0M7QUFFdUI7QUFFNUMsZUFBZUUsUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsTUFBTSxFQUFFQyxFQUFFLEVBQUUsR0FBR0YsSUFBSUcsS0FBSztJQUN4QixJQUFJLENBQUNELE1BQU0sT0FBT0EsT0FBTyxVQUFVO1FBQ2pDRCxJQUFJRyxNQUFNLENBQUMsS0FBS0MsR0FBRyxDQUFDO1FBQ3BCO0lBQ0Y7SUFFQSxrQkFBa0I7SUFDbEJKLElBQUlLLFNBQVMsQ0FBQyxnQkFBZ0I7SUFDOUJMLElBQUlLLFNBQVMsQ0FBQyxpQkFBaUI7SUFDL0JMLElBQUlLLFNBQVMsQ0FBQyxjQUFjO0lBQzVCTCxJQUFJSyxTQUFTLENBQUMsK0JBQStCO0lBRTdDLHVCQUF1QjtJQUN2QkwsSUFBSU0sWUFBWTtJQUVoQiwyQ0FBMkM7SUFDM0MsTUFBTUMsTUFBTSw4Q0FBbUJDLFNBQVM7SUFDeEMsTUFBTUQsSUFBSUUsT0FBTztJQUVqQixNQUFNQyxXQUFXO1FBQ2YsQ0FBQyxTQUFTLEVBQUVULEdBQUcsZUFBZSxDQUFDO1FBQy9CO0tBQ0Q7SUFFRCx5Q0FBeUM7SUFDekMsTUFBTVUsaUJBQWlCLENBQUNDLFNBQWlCQztRQUN2QyxJQUFJO1lBQ0YsOENBQThDO1lBQzlDLE1BQU1DLFlBQVlGLFlBQVksaUJBQWlCLGFBQWE7WUFDNUQsOENBQThDO1lBQzlDWixJQUFJZSxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUVELFVBQVUsRUFBRSxDQUFDO1lBQ2pDLHNFQUFzRTtZQUN0RWQsSUFBSWUsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFRixRQUFRLElBQUksQ0FBQztRQUNsQyxFQUFFLE9BQU9HLEdBQUc7WUFDVkMsUUFBUUMsSUFBSSxDQUFDLG1CQUFtQkY7UUFDbEM7SUFDRjtJQUVBLHdCQUF3QjtJQUN4QixJQUFJO1FBQ0YsTUFBTVQsSUFBSVksU0FBUyxDQUFDVCxVQUFVLENBQUNVLEtBQWFDO1lBQzFDLGdGQUFnRjtZQUNoRiw0Q0FBNEM7WUFDNUNWLGVBQWVVLElBQUlEO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPSixHQUFHO1FBQ1ZDLFFBQVFLLEtBQUssQ0FBQyx5Q0FBeUNOO1FBQ3ZEaEIsSUFBSWUsS0FBSyxDQUFDLENBQUMsY0FBYyxDQUFDO1FBQzFCZixJQUFJZSxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUVRLEtBQUtDLFNBQVMsQ0FBQztZQUFFRixPQUFPO1FBQW1CLEdBQUcsSUFBSSxDQUFDO0lBQ3hFO0lBRUEsK0JBQStCO0lBQy9CdkIsSUFBSTBCLEVBQUUsQ0FBQyxTQUFTO1FBQ2QsSUFBSTtZQUNGLE1BQU1sQixJQUFJbUIsV0FBVyxDQUFDaEI7UUFDeEIsRUFBRSxPQUFNLENBQUM7UUFDVCxJQUFJO1lBQUUsTUFBTUgsSUFBSW9CLElBQUk7UUFBSSxFQUFFLE9BQU0sQ0FBQztRQUNqQzNCLElBQUlJLEdBQUc7SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFya2V0aW5nLW12cC8uL3BhZ2VzL2FwaS9jYW1wYWlnbi9baWRdL2V2ZW50cy50cz83YTZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9jYW1wYWlnbi9baWRdL2V2ZW50cy50c1xyXG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcclxuaW1wb3J0IHsgcmVkaXMgYXMgbWFpblJlZGlzIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL3JlZGlzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XHJcbiAgaWYgKCFpZCB8fCB0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMCkuZW5kKCdJbnZhbGlkIGNhbXBhaWduIGlkJyk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBTZXQgU1NFIGhlYWRlcnNcclxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9ldmVudC1zdHJlYW0nKTtcclxuICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ25vLWNhY2hlLCBuby10cmFuc2Zvcm0nKTtcclxuICByZXMuc2V0SGVhZGVyKCdDb25uZWN0aW9uJywgJ2tlZXAtYWxpdmUnKTtcclxuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xyXG5cclxuICAvLyBLZWVwIGNvbm5lY3Rpb24gb3BlblxyXG4gIHJlcy5mbHVzaEhlYWRlcnMoKTtcclxuXHJcbiAgLy8gRHVwbGljYXRlIGEgUmVkaXMgY29ubmVjdGlvbiBmb3IgcHViL3N1YlxyXG4gIGNvbnN0IHN1YiA9IChtYWluUmVkaXMgYXMgYW55KS5kdXBsaWNhdGUoKTtcclxuICBhd2FpdCBzdWIuY29ubmVjdCgpO1xyXG5cclxuICBjb25zdCBjaGFubmVscyA9IFtcclxuICAgIGBjYW1wYWlnbjoke2lkfTpjb250YWN0X3VwZGF0ZWAsXHJcbiAgICAnY2FtcGFpZ246bmV3JywgLy8ga2VlcCBleGlzdGluZyBjaGFubmVsIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgXTtcclxuXHJcbiAgLy8gTWVzc2FnZSBoYW5kbGVyOiBmb3J3YXJkIGFzIFNTRSBldmVudHNcclxuICBjb25zdCBtZXNzYWdlSGFuZGxlciA9IChjaGFubmVsOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU2VuZCBldmVudCBuYW1lZCBhZnRlciBjaGFubmVsIChub3JtYWxpemVkKVxyXG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjaGFubmVsID09PSAnY2FtcGFpZ246bmV3JyA/ICdjYW1wYWlnbicgOiAnY29udGFjdCc7XHJcbiAgICAgIC8vIFNTRSBmb3JtYXQ6IGV2ZW50OiA8bmFtZT5cXG5kYXRhOiA8anNvbj5cXG5cXG5cclxuICAgICAgcmVzLndyaXRlKGBldmVudDogJHtldmVudE5hbWV9XFxuYCk7XHJcbiAgICAgIC8vIGVzY2FwZSBuZXdsaW5lcyBpbiBwYXlsb2FkIGJ5IHJlcGxhY2luZyB3aXRoIFxcXFxuIGluc2lkZSBKU09OIHN0cmluZ1xyXG4gICAgICByZXMud3JpdGUoYGRhdGE6ICR7bWVzc2FnZX1cXG5cXG5gKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKCdTU0Ugc2VuZCBmYWlsZWQnLCBlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBTdWJzY3JpYmUgdG8gY2hhbm5lbHNcclxuICB0cnkge1xyXG4gICAgYXdhaXQgc3ViLnN1YnNjcmliZShjaGFubmVscywgKG1zZzogc3RyaW5nLCBjaDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIC8vIGlvcmVkaXMgdjUgc3Vic2NyaWJlIHNpZ25hdHVyZSBkaWZmZXJzOyB1c2UgbWVzc2FnZSBoYW5kbGVyIGFib3ZlIGlmIHByb3ZpZGVkXHJcbiAgICAgIC8vIEJ1dCB0byBiZSBjb21wYXRpYmxlLCBjYWxsIG1lc3NhZ2VIYW5kbGVyXHJcbiAgICAgIG1lc3NhZ2VIYW5kbGVyKGNoLCBtc2cpO1xyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN1YnNjcmliZSB0byByZWRpcyBjaGFubmVscycsIGUpO1xyXG4gICAgcmVzLndyaXRlKGBldmVudDogZXJyb3JcXG5gKTtcclxuICAgIHJlcy53cml0ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IGVycm9yOiAnc3Vic2NyaWJlLWZhaWxlZCcgfSl9XFxuXFxuYCk7XHJcbiAgfVxyXG5cclxuICAvLyBDbGVhbnVwIG9uIGNsaWVudCBkaXNjb25uZWN0XHJcbiAgcmVxLm9uKCdjbG9zZScsIGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHN1Yi51bnN1YnNjcmliZShjaGFubmVscyk7XHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgICB0cnkgeyBhd2FpdCBzdWIucXVpdCgpOyB9IGNhdGNoIHt9XHJcbiAgICByZXMuZW5kKCk7XHJcbiAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInJlZGlzIiwibWFpblJlZGlzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImlkIiwicXVlcnkiLCJzdGF0dXMiLCJlbmQiLCJzZXRIZWFkZXIiLCJmbHVzaEhlYWRlcnMiLCJzdWIiLCJkdXBsaWNhdGUiLCJjb25uZWN0IiwiY2hhbm5lbHMiLCJtZXNzYWdlSGFuZGxlciIsImNoYW5uZWwiLCJtZXNzYWdlIiwiZXZlbnROYW1lIiwid3JpdGUiLCJlIiwiY29uc29sZSIsIndhcm4iLCJzdWJzY3JpYmUiLCJtc2ciLCJjaCIsImVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9uIiwidW5zdWJzY3JpYmUiLCJxdWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/campaign/[id]/events.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcampaign%2F%5Bid%5D%2Fevents&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ccampaign%5C%5Bid%5D%5Cevents.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();